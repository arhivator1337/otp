<? /*
 api for calls
 */

namespace controllers;

use helpers\arr;
use helpers\auth;
use helpers\html;
use helpers\validate;
use ravan\log;
use ravan\ravan;

class api {

	var $numbers, $data = [];

	var $db_numbers = 'otp_numbers';
	var $db_number_requests = 'otp_number_requests';
	var $db_ranges = 'otp_ranges';

	var $time_limit = 60*60; //60 min

	var $code_active = false;

	var $log_file = '/tmp/ravan/api.log';

	var $cache_key = 'gen_numbers_';
	var $generate_range_id = 1;
	var $generate_from_list = false;
	var $numbers_to_generate_from = [
		213540018105	,
		213540037298	,
		213540037562	,
		213540039972	,
		213540056147	,
		213540063157	,
		213540066778	,
		213540067228	,
		213540070827	,
		213540076233	,
		213540091860	,
		213540091945	,
		213540091961	,
		213540122525	,
		213540139088	,
		213540145278	,
		213540153690	,
		213540166379	,
		213540172200	,
		213540179900	,
		213540193987	,
		213540222545	,
		213540227240	,
		213540243866	,
		213540248597	,
		213540284246	,
		213540285313	,
		213540286747	,
		213540316686	,
		213540318912	,
		213540320405	,
		213540323617	,
		213540328832	,
		213540338489	,
		213540340931	,
		213540342188	,
		213540366761	,
		213540372939	,
		213540396365	,
		213540413551	,
		213540421890	,
		213540432745	,
		213540432953	,
		213540442715	,
		213540450114	,
		213540455700	,
		213540457699	,
		213540463275	,
		213540464405	,
		213540473311	,
		213540488345	,
		213540492664	,
		213540493242	,
		213540494876	,
		213540498201	,
		213540498934	,
		213540513837	,
		213540518815	,
		213540522194	,
		213540532023	,
		213540539662	,
		213540545049	,
		213540546240	,
		213540558007	,
		213540564261	,
		213540575826	,
		213540591317	,
		213540638144	,
		213540662829	,
		213540665687	,
		213540665930	,
		213540667849	,
		213540669285	,
		213540669730	,
		213540679393	,
		213540682426	,
		213540686425	,
		213540688690	,
		213540721708	,
		213540722347	,
		213540732619	,
		213540733508	,
		213540740578	,
		213540741460	,
		213540744148	,
		213540744498	,
		213540744617	,
		213540745431	,
		213540755509	,
		213540776266	,
		213540777557	,
		213540786061	,
		213540788930	,
		213540791486	,
		213540793233	,
		213540798857	,
		213540834127	,
		213540838679	,
		213540842443	,
		213540857543	,
		213540858284	,
		213540860729	,
		213540872916	,
		213540873012	,
		213540875436	,
		213540883240	,
		213540887334	,
		213540891711	,
		213541120022	,
		213541126395	,
		213541129955	,
		213541133523	,
		213541133745	,
		213541139609	,
		213541141550	,
		213541146954	,
		213541148757	,
		213541153693	,
		213541156928	,
		213541163630	,
		213541166066	,
		213541170827	,
		213541173833	,
		213541179562	,
		213541187660	,
		213541188792	,
		213541211056	,
		213541211655	,
		213541214229	,
		213541221639	,
		213541233401	,
		213541238049	,
		213541240343	,
		213541244364	,
		213541248142	,
		213541251449	,
		213541310446	,
		213541313060	,
		213541314555	,
		213541315253	,
		213541321822	,
		213541322088	,
		213541322195	,
		213541324515	,
		213541325101	,
		213541330293	,
		213541333789	,
		213541338029	,
		213541347880	,
		213541353933	,
		213541362738	,
		213541395968	,
		213541396254	,
		213541419717	,
		213541421509	,
		213541423689	,
		213541447200	,
		213541460694	,
		213541466509	,
		213541470527	,
		213541478614	,
		213541481449	,
		213541484651	,
		213541490537	,
		213541496953	,
		213541497549	,
		213541728608	,
		213541734008	,
		213541735718	,
		213541748770	,
		213541756295	,
		213541760852	,
		213541763228	,
		213541767615	,
		213541771095	,
		213541777862	,
		213541783251	,
		213541797025	,
		213541797637	,
		213541798467	,
		213541798672	,
		213549013201	,
		213549025689	,
		213549042278	,
		213549049700	,
		213549053592	,
		213549057558	,
		213549062426	,
		213549068683	,
		213549081580	,
		213549090541	,
		213549092450	,
		213549098547	,
		213549122016	,
		213549124016	,
		213549133620	,
		213549138105	,
		213549162572	,
		213549168566	,
		213549169960	,
		213549174792	,
		213549178268	,
		213549180750	,
		213549183441	,
		213549187991	,
		213549188018	,
		213549188775	,
		213549215583	,
		213549215906	,
		213549234485	,
		213549236886	,
		213549242349	,
		213549243031	,
		213549269584	,
		213549274331	,
		213549274861	,
		213549276068	,
		213549285332	,
		213549288776	,
		213549292581	,
		213549299422	,
		213549299783	,
		213549315473	,
		213549315765	,
		213549332257	,
		213549335391	,
		213549337004	,
		213549340561	,
		213549346858	,
		213549349075	,
		213549355025	,
		213549375339	,
		213549386042	,
		213549397310	,
		213549417378	,
		213549421745	,
		213549426238	,
		213549427842	,
		213549434630	,
		213549436272	,
		213549444629	,
		213549460121	,
		213549461081	,
		213549461182	,
		213549465543	,
		213549468319	,
		213549473887	,
		213549483000	,
		213549491883	,
		213549494165	,
		213549519149	,
		213549519611	,
		213549531351	,
		213549534995	,
		213549541147	,
		213549554501	,
		213549560989	,
		213549564005	,
		213549567864	,
		213549569295	,
		213549571413	,
		213549630078	,
		213549632868	,
		213549636453	,
		213549642426	,
		213549644864	,
		213549651057	,
		213549659084	,
		213549665988	,
		213549669433	,
		213549682514	,
		213549683208	,
		213549685818	,
		213549695762	,
		213549722266	,
		213549724872	,
		213549725803	,
		213549728331	,
		213549728398	,
		213549751959	,
		213549758251	,
		213549762008	,
		213549766674	,
		213549773367	,
		213549776244	,
		213549778456	,
		213549812506	,
		213549846645	,
		213549852119	,
		213549854760	,
		213549858393	,
		213549863244	,
		213549865900	,
		213549867490	,
		213549877888	,
		213549882070	,
		213549884737	,
		213549885789	,
		213549887466	,
		213549897123	,
		213549910893	,
		213549918367	,
		213549925381	,
		213549934354	,
		213549951998	,
		213549953241	,
		213549956506	,
		213549968245	,
		213549968474	,
		213549986646	,
		213550018252	,
		213550023021	,
		213550032029	,
		213550032456	,
		213550044779	,
		213550052864	,
		213550063314	,
		213550071323	,
		213550072085	,
		213550075559	,
		213550080495	,
		213550087590	,
		213550097755	,
		213550320233	,
		213550320492	,
		213550328905	,
		213550340709	,
		213550356013	,
		213550367479	,
		213550371868	,
		213550371925	,
		213550375184	,
		213550386806	,
		213550393765	,
		213550511047	,
		213550519164	,
		213550522337	,
		213550530809	,
		213550531683	,
		213550532934	,
		213550542378	,
		213550544878	,
		213550544897	,
		213550581800	,
		213550587768	,
		213550587955	,
		213550593721	,
		213550594975	,
		213550619128	,
		213550637227	,
		213550642668	,
		213550648318	,
		213550656981	,
		213550659208	,
		213550667544	,
		213550673955	,
		213550677798	,
		213550695251	,
		213550721994	,
		213550727006	,
		213550740190	,
		213550757313	,
		213550768082	,
		213550771321	,
		213550772502	,
		213550779447	,
		213551710980	,
		213551726535	,
		213551745281	,
		213551754336	,
		213551766752	,
		213551772920	,
		213551786127	,
		213551787963	,
		213551789861	,
		213551791616	,
		213552015780	,
		213552016262	,
		213552018895	,
		213552028904	,
		213552061184	,
		213552067137	,
		213552069162	,
		213552077176	,
		213552081270	,
		213552087317	,
		213552112071	,
		213552115565	,
		213552123988	,
		213552136875	,
		213552153082	,
		213552167434	,
		213552168952	,
		213552173777	,
		213552194045	,
		213553022708	,
		213553029401	,
		213553037380	,
		213553038780	,
		213553045653	,
		213553057015	,
		213553060460	,
		213553067163	,
		213553067823	,
		213553069531	,
		213553074844	,
		213553078124	,
		213553080728	,
		213553085828	,
		213553128356	,
		213553129462	,
		213553137663	,
		213553143732	,
		213553144600	,
		213553145544	,
		213553152564	,
		213553161277	,
		213553168987	,
		213553169182	,
		213553170139	,
		213553183557	,
		213553186446	,
		213553193955	,
		213553198478	,
		213553213108	,
		213553217007	,
		213553221051	,
		213553222689	,
		213553227494	,
		213553235914	,
		213553240410	,
		213553246566	,
		213553252106	,
		213553260116	,
		213553263849	,
		213553268869	,
		213553271470	,
		213553272141	,
		213553274835	,
		213553281535	,
		213553296655	,
		213553412576	,
		213553413062	,
		213553438449	,
		213553439465	,
		213553448843	,
		213553449370	,
		213553454810	,
		213553459014	,
		213553461447	,
		213553471082	,
		213553494503	,
		213553494665	,
		213553514321	,
		213553515284	,
		213553523398	,
		213553525723	,
		213553533279	,
		213553543137	,
		213553553360	,
		213553558661	,
		213553566300	,
		213553569551	,
		213553570070	,
		213553592909	,
		213553594976	,
		213553596552	,
		213553598242	,
		213553615971	,
		213553623355	,
		213553638606	,
		213553644588	,
		213553656767	,
		213553657207	,
		213553657275	,
		213553658827	,
		213553667493	,
		213553676443	,
		213553677415	,
		213553677732	,
		213553686851	,
		213553819255	,
		213553828624	,
		213553833051	,
		213553837939	,
		213553841391	,
		213553841597	,
		213553853132	,
		213553857514	,
		213553871804	,
		213553874311	,
		213553879775	,
		213554014521	,
		213554016720	,
		213554019414	,
		213554028060	,
		213554028234	,
		213554032516	,
		213554033603	,
		213554038203	,
		213554048633	,
		213554073126	,
		213554113391	,
		213554122289	,
		213554140878	,
		213554144006	,
		213554152173	,
		213554152269	,
		213554162129	,
		213554173140	,
		213554182203	,
		213554186772	,
		213554194864	,
		213554214925	,
		213554221875	,
		213554226281	,
		213554241888	,
		213554244146	,
		213554249810	,
		213554253887	,
		213554255212	,
		213554263115	,
		213554265845	,
		213554273744	,
		213554287302	,
		213554295776	,
		213554298892	,
		213554315873	,
		213554317568	,
		213554327633	,
		213554340141	,
		213554372414	,
		213554377824	,
		213554387783	,
		213554712822	,
		213554727173	,
		213554743740	,
		213554751815	,
		213554756025	,
		213554786231	,
		213554787714	,
		213554794136	,
		213554813337	,
		213554823445	,
		213554825904	,
		213554834360	,
		213554841165	,
		213554848376	,
		213554865655	,
		213554869912	,
		213554874160	,
		213554884463	,
		213554889427	,
		213554897315	,
		213555110585	,
		213555113037	,
		213555114522	,
		213555122220	,
		213555142320	,
		213555147243	,
		213555151220	,
		213555156320	,
		213555162930	,
		213555167508	,
		213555173803	,
		213555174230	,
		213555181175	,
		213555210223	,
		213555211150	,
		213555231648	,
		213555243920	,
		213555249759	,
		213555252354	,
		213555254755	,
		213555275962	,
		213555281144	,
		213555281345	,
		213555298068	,
		213555511432	,
		213555522915	,
		213555523126	,
		213555528343	,
		213555531888	,
		213555535233	,
		213555539084	,
		213555539206	,
		213555563434	,
		213555571765	,
		213555572493	,
		213555577244	,
		213555579122	,
		213555591481	,
		213555599617	,
		213555813528	,
		213555815972	,
		213555817086	,
		213555817656	,
		213555830982	,
		213555859997	,
		213555868810	,
		213555891758	,
		213555895730	,
		213555913007	,
		213555923378	,
		213555930104	,
		213555939671	,
		213555941452	,
		213555943955	,
		213555952387	,
		213555973066	,
		213555977499	,
		213555979647	,
		213555987897	,
		213556014141	,
		213556020593	,
		213556035037	,
		213556039007	,
		213556047905	,
		213556051319	,
		213556052449	,
		213556054336	,
		213556058213	,
		213556062895	,
		213556065261	,
		213556070109	,
		213556071779	,
		213556078419	,
		213556079469	,
		213556081024	,
		213556131122	,
		213556131445	,
		213556135158	,
		213556137323	,
		213556157393	,
		213556165544	,
		213556169362	,
		213556185947	,
		213556187370	,
		213556188883	,
		213556191249	,
		213556192951	,
		213556194140	,
		213556219584	,
		213556220742	,
		213556229561	,
		213556241879	,
		213556244060	,
		213556244969	,
		213556264683	,
		213556265695	,
		213556266709	,
		213556273808	,
		213556274429	,
		213556279829	,
		213556281363	,
		213556282804	,
		213556284651	,
		213556289825	,
		213556292515	,
		213556296674	,
		213556296873	,
		213556417547	,
		213556418434	,
		213556426194	,
		213556431564	,
		213556446217	,
		213556449125	,
		213556464935	,
		213556470594	,
		213556475958	,
		213556481603	,
		213556483547	,
		213556496240	,
		213556713788	,
		213556720606	,
		213556723752	,
		213556727941	,
		213556729632	,
		213556735868	,
		213556736780	,
		213556736814	,
		213556739459	,
		213556745149	,
		213556747603	,
		213556753360	,
		213556763051	,
		213556769434	,
		213556770067	,
		213556770959	,
		213556776063	,
		213556786130	,
		213556786839	,
		213556794612	,
		213556796100	,
		213556798872	,
		213556924010	,
		213556953116	,
		213556953986	,
		213556957758	,
		213556959132	,
		213556963662	,
		213556970009	,
		213556987515	,
		213556988467	,
		213556995176	,
		213556997009	,
		213557113283	,
		213557125470	,
		213557137596	,
		213557145390	,
		213557154029	,
		213557172600	,
		213557173613	,
		213557175562	,
		213557193928	,
		213557196604	,
		213557225205	,
		213557227931	,
		213557228106	,
		213557247105	,
		213557252751	,
		213557258904	,
		213557261538	,
		213557266577	,
		213557273330	,
		213557279000	,
		213557279461	,
		213557283038	,
		213557514746	,
		213557521589	,
		213557558333	,
		213557560512	,
		213557562167	,
		213557563371	,
		213557573979	,
		213557576753	,
		213557597519	,
		213557613595	,
		213557615483	,
		213557616672	,
		213557621640	,
		213557632763	,
		213557636921	,
		213557638928	,
		213557648175	,
		213557648592	,
		213557659605	,
		213557667013	,
		213557673492	,
		213557686293	,
		213557692170	,
		213557695053	,
		213557813613	,
		213557832676	,
		213557835072	,
		213557840225	,
		213557841691	,
		213557844391	,
		213557845777	,
		213557847340	,
		213557868262	,
		213557884662	,
		213557886804	,
		213557893878	,
		213557910745	,
		213557913312	,
		213557928838	,
		213557941543	,
		213557943661	,
		213557960104	,
		213557960354	,
		213557962703	,
		213557969783	,
		213557976367	,
		213557976862	,
		213557984662	,
		213557999507	,
		213558114264	,
		213558117336	,
		213558134810	,
		213558140793	,
		213558141233	,
		213558142803	,
		213558145619	,
		213558156767	,
		213558175951	,
		213558178783	,
		213558195565	,
		213558198326	,
		213558213389	,
		213558236831	,
		213558243016	,
		213558247891	,
		213558251543	,
		213558253035	,
		213558254055	,
		213558264591	,
		213558271777	,
		213558275841	,
		213558277973	,
		213558283364	,
		213558285463	,
		213558291376	,
		213558292283	,
		213558293544	,
		213558297243	,
		213558311808	,
		213558320098	,
		213558320465	,
		213558332212	,
		213558337122	,
		213558345535	,
		213558349450	,
		213558353025	,
		213558375320	,
		213558376559	,
		213558389062	,
		213558394277	,
		213558398353	,
		213558515476	,
		213558523729	,
		213558534615	,
		213558557576	,
		213558577413	,
		213558578031	,
		213558590652	,
		213558597244	,
		213558618919	,
		213558626307	,
		213558635923	,
		213558636018	,
		213558636404	,
		213558662569	,
		213558664299	,
		213558664527	,
		213558668826	,
		213558677300	,
		213558692942	,
		213558697741	,
		213558699932	,
		213558710841	,
		213558716893	,
		213558718792	,
		213558722960	,
		213558750671	,
		213558750822	,
		213558759257	,
		213558760405	,
		213558772737	,
		213558773938	,
		213558797880	,
		213558799505	,
		213558818205	,
		213558821269	,
		213558829782	,
		213558831911	,
		213558846982	,
		213558849328	,
		213558852139	,
		213558866004	,
		213558867552	,
		213558870958	,
		213558874008	,
		213558874977	,
		213558899537	,
		213558918753	,
		213558936463	,
		213558945774	,
		213558951426	,
		213558977728	,
		213559210062	,
		213559217067	,
		213559219702	,
		213559220329	,
		213559225303	,
		213559227018	,
		213559227954	,
		213559233533	,
		213559240941	,
		213559243088	,
		213559244919	,
		213559263793	,
		213559275351	,
		213559280089	,
		213559280594	,
		213559281382	,
		213559281657	,
		213559282514	,
		213559519668	,
		213559536790	,
		213559540010	,
		213559549277	,
		213559573572	,
		213559581443	,
		213559581549	,
		213559581927	,
		213559588036	,
		213560211886	,
		213560217925	,
		213560218660	,
		213560232040	,
		213560240808	,
		213560241340	,
		213560241464	,
		213560256696	,
		213560260348	,
		213560272940	,
		213560273524	,
		213560283529	,
		213560287749	,
		213560291964	,
		213560295846	,
		213561012740	,
		213561013631	,
		213561024283	,
		213561033905	,
		213561036892	,
		213561037367	,
		213561052957	,
		213561057367	,
		213561060077	,
		213561067849	,
		213561071756	,
		213561089391	,
		213561092409	,
		213561098876	,
		213561099229	,
		213561327351	,
		213561336551	,
		213561341897	,
		213561343424	,
		213561347861	,
		213561355550	,
		213561357335	,
		213561362793	,
		213561363853	,
		213561364490	,
		213561376643	,
		213561377057	,
		213561379063	,
		213561383892	,
		213561386568	,
		213561396473	,
		213561431112	,
		213561434208	,
		213561434236	,
		213561441932	,
		213561468811	,
		213561483217	,
		213561488131	,
		213561493484	,
		213561511265	,
		213561517319	,
		213561524299	,
		213561525274	,
		213561537995	,
		213561539148	,
		213561540503	,
		213561546075	,
		213561551427	,
		213561551660	,
		213561555644	,
		213561559783	,
		213561561013	,
		213561562184	,
		213561567411	,
		213561568191	,
		213561569246	,
		213561574538	,
		213561575645	,
		213561598778	,
		213561617443	,
		213561643235	,
		213561659043	,
		213561662864	,
		213561663164	,
		213561666828	,
		213561669294	,
		213561699272	,
		213561711010	,
		213561726005	,
		213561759894	,
		213561768326	,
		213561787723	,
		213561793928	,
		213561795962	,
		213561796976	,
		213561816530	,
		213561827114	,
		213561827882	,
		213561838332	,
		213561854426	,
		213561854800	,
		213561862775	,
		213561864129	,
		213561869030	,
		213561878086	,
		213561881231	,
		213561881651	,
		21650021451	,
		21650021538	,
		21650021613	,
		21650021634	,
		21650021677	,
		21650021950	,
		21650021977	,
		21650022129	,
		21650022337	,
		21650022355	,
		21650022392	,
		21650022758	,
		21650022894	,
		21650023319	,
		21650023341	,
		21650023347	,
		21650023424	,
		21650023467	,
		21650023774	,
		21650023948	,
		21650024564	,
		21650024937	,
		21650025273	,
		21650025368	,
		21650025397	,
		21650025470	,
		21650025519	,
		21650025652	,
		21650026987	,
		21650027049	,
		21650027297	,
		21650027593	,
		21650027623	,
		21650027640	,
		21650027664	,
		21650027895	,
		21650027958	,
		21650028317	,
		21650028322	,
		21650028334	,
		21650028426	,
		21650028496	,
		21650028653	,
		21650028672	,
		21650028805	,
		21650029040	,
		21650029298	,
		21650029577	,
		21650029761	,
		21650029876	,
		21650029987	,
		21650051228	,
		21650051311	,
		21650051654	,
		21650051670	,
		21650051717	,
		21650051938	,
		21650052076	,
		21650052095	,
		21650052124	,
		21650052160	,
		21650052464	,
		21650052541	,
		21650052628	,
		21650052839	,
		21650052899	,
		21650052975	,
		21650053109	,
		21650053162	,
		21650053842	,
		21650053897	,
		21650053944	,
		21650053967	,
		21650054240	,
		21650054288	,
		21650054525	,
		21650054544	,
		21650054913	,
		21650055069	,
		21650055113	,
		21650055156	,
		21650055171	,
		21650055290	,
		21650055458	,
		21650055651	,
		21650055821	,
		21650056235	,
		21650056451	,
		21650056707	,
		21650056970	,
		21650057064	,
		21650057070	,
		21650057266	,
		21650057465	,
		21650057537	,
		21650057769	,
		21650057917	,
		21650058502	,
		21650059368	,
		21650059405	,
		21650059449	,
		21650059564	,
		21650059863	,
		21650071005	,
		21650071080	,
		21650071210	,
		21650071269	,
		21650071324	,
		21650071469	,
		21650071928	,
		21650071936	,
		21650072296	,
		21650072387	,
		21650072731	,
		21650072852	,
		21650072981	,
		21650073334	,
		21650073560	,
		21650073717	,
		21650073832	,
		21650073888	,
		21650073925	,
		21650074374	,
		21650075308	,
		21650075388	,
		21650075435	,
		21650075684	,
		21650075976	,
		21650075993	,
		21650076074	,
		21650076115	,
		21650076253	,
		21650076572	,
		21650076584	,
		21650076617	,
		21650076761	,
		21650076913	,
		21650076920	,
		21650076936	,
		21650077245	,
		21650077702	,
		21650077986	,
		21650078053	,
		21650078061	,
		21650078175	,
		21650078479	,
		21650078499	,
		21650078844	,
		21650078854	,
		21650079134	,
		21650079454	,
		21650079457	,
		21650079663	,
		21650079804	,
		21650079837	,
		21650131117	,
		21650131387	,
		21650131541	,
		21650131571	,
		21650131827	,
		21650132061	,
		21650132180	,
		21650132184	,
		21650132223	,
		21650132365	,
		21650132449	,
		21650132564	,
		21650132662	,
		21650133034	,
		21650133069	,
		21650133159	,
		21650133377	,
		21650133471	,
		21650133603	,
		21650133886	,
		21650133933	,
		21650134092	,
		21650134417	,
		21650134423	,
		21650134504	,
		21650134556	,
		21650134620	,
		21650134877	,
		21650135498	,
		21650135717	,
		21650135739	,
		21650135942	,
		21650136079	,
		21650136126	,
		21650136144	,
		21650136538	,
		21650136620	,
		21650136695	,
		21650136797	,
		21650136831	,
		21650136938	,
		21650137236	,
		21650137288	,
		21650137410	,
		21650137451	,
		21650137848	,
		21650138531	,
		21650138989	,
		21650139041	,
		21650139390	,
		21650139674	,
		21650139688	,
		21650141221	,
		21650141236	,
		21650141278	,
		21650141280	,
		21650141615	,
		21650141729	,
		21650141776	,
		21650141815	,
		21650141876	,
		21650142053	,
		21650142079	,
		21650142553	,
		21650142758	,
		21650142765	,
		21650143151	,
		21650143686	,
		21650144048	,
		21650144521	,
		21650144698	,
		21650144767	,
		21650144786	,
		21650144832	,
		21650144839	,
		21650145254	,
		21650146038	,
		21650146469	,
		21650146489	,
		21650146706	,
		21650146709	,
		21650146810	,
		21650146909	,
		21650146950	,
		21650146979	,
		21650146997	,
		21650147057	,
		21650147178	,
		21650147665	,
		21650147696	,
		21650147949	,
		21650147963	,
		21650147998	,
		21650148066	,
		21650148094	,
		21650148191	,
		21650148339	,
		21650148382	,
		21650148962	,
		21650148986	,
		21650149322	,
		21650149453	,
		21650149500	,
		21650149714	,
		21650151277	,
		21650151286	,
		21650152014	,
		21650152100	,
		21650152231	,
		21650152322	,
		21650152329	,
		21650152468	,
		21650152644	,
		21650152763	,
		21650152846	,
		21650152979	,
		21650152995	,
		21650153116	,
		21650153422	,
		21650153482	,
		21650153727	,
		21650154454	,
		21650154765	,
		21650154886	,
		21650155179	,
		21650155222	,
		21650155288	,
		21650155540	,
		21650155589	,
		21650155865	,
		21650155991	,
		21650156020	,
		21650156054	,
		21650156069	,
		21650156510	,
		21650156569	,
		21650156673	,
		21650156727	,
		21650156800	,
		21650157051	,
		21650157096	,
		21650157110	,
		21650157262	,
		21650157577	,
		21650157583	,
		21650158014	,
		21650158112	,
		21650158551	,
		21650158735	,
		21650158898	,
		21650158965	,
		21650159299	,
		21650159370	,
		21650159399	,
		21650159400	,
		21650159903	,
		21650221323	,
		21650221481	,
		21650221701	,
		21650221737	,
		21650221742	,
		21650222167	,
		21650222374	,
		21650222489	,
		21650222738	,
		21650222826	,
		21650223202	,
		21650223280	,
		21650223512	,
		21650223613	,
		21650223700	,
		21650223961	,
		21650224169	,
		21650224560	,
		21650224682	,
		21650224719	,
		21650224721	,
		21650224924	,
		21650225097	,
		21650225358	,
		21650225364	,
		21650225617	,
		21650225790	,
		21650225979	,
		21650226118	,
		21650226138	,
		21650226180	,
		21650226310	,
		21650226412	,
		21650226577	,
		21650227022	,
		21650227209	,
		21650227324	,
		21650227433	,
		21650227480	,
		21650227672	,
		21650227945	,
		21650228080	,
		21650228165	,
		21650228408	,
		21650228552	,
		21650228918	,
		21650229253	,
		21650229432	,
		21650229685	,
		21650229711	,
		21650229796	,
		21650271018	,
		21650271055	,
		21650271220	,
		21650271610	,
		21650271870	,
		21650272093	,
		21650272242	,
		21650272387	,
		21650272555	,
		21650272602	,
		21650272696	,
		21650272817	,
		21650273487	,
		21650273834	,
		21650273843	,
		21650274103	,
		21650274169	,
		21650274210	,
		21650274296	,
		21650274401	,
		21650274845	,
		21650274970	,
		21650275088	,
		21650275234	,
		21650275468	,
		21650275926	,
		21650276063	,
		21650276331	,
		21650276366	,
		21650276404	,
		21650276434	,
		21650276814	,
		21650276887	,
		21650277236	,
		21650277297	,
		21650277416	,
		21650277541	,
		21650277671	,
		21650277736	,
		21650277847	,
		21650277928	,
		21650278076	,
		21650278206	,
		21650278501	,
		21650278713	,
		21650278763	,
		21650279137	,
		21650279286	,
		21650279408	,
		21650279605	,
		21650279797	,
		21650279802	,
		21650311091	,
		21650311092	,
		21650311139	,
		21650311438	,
		21650311626	,
		21650311739	,
		21650311911	,
		21650311942	,
		21650312349	,
		21650312573	,
		21650312590	,
		21650312788	,
		21650313021	,
		21650313389	,
		21650313403	,
		21650313540	,
		21650313616	,
		21650314051	,
		21650314089	,
		21650314210	,
		21650314281	,
		21650314377	,
		21650314782	,
		21650314841	,
		21650315268	,
		21650315377	,
		21650315379	,
		21650315478	,
		21650315557	,
		21650315572	,
		21650315620	,
		21650315752	,
		21650315810	,
		21650315858	,
		21650316039	,
		21650316348	,
		21650316485	,
		21650316625	,
		21650316750	,
		21650316971	,
		21650316973	,
		21650317490	,
		21650317558	,
		21650317674	,
		21650318488	,
		21650318623	,
		21650319097	,
		21650319152	,
		21650319214	,
		21650319391	,
		21650319466	,
		21650319813	,
		21650331144	,
		21650331402	,
		21650331521	,
		21650331631	,
		21650331997	,
		21650332642	,
		21650332675	,
		21650332684	,
		21650332851	,
		21650333403	,
		21650333641	,
		21650333661	,
		21650333724	,
		21650333730	,
		21650333741	,
		21650333797	,
		21650333878	,
		21650333887	,
		21650333942	,
		21650334011	,
		21650334254	,
		21650334310	,
		21650334518	,
		21650334560	,
		21650334959	,
		21650334972	,
		21650335065	,
		21650335221	,
		21650335324	,
		21650335447	,
		21650335848	,
		21650336331	,
		21650336525	,
		21650336594	,
		21650336748	,
		21650336855	,
		21650336989	,
		21650337089	,
		21650337595	,
		21650337619	,
		21650337729	,
		21650337746	,
		21650337980	,
		21650338243	,
		21650338533	,
		21650338580	,
		21650338852	,
		21650338969	,
		21650339708	,
		21650339902	,
		21650339904	,
		21650341244	,
		21650341324	,
		21650341340	,
		21650341503	,
		21650341640	,
		21650341645	,
		21650341865	,
		21650342305	,
		21650342402	,
		21650342450	,
		21650342512	,
		21650343067	,
		21650343081	,
		21650343420	,
		21650343510	,
		21650343524	,
		21650343852	,
		21650343916	,
		21650344251	,
		21650344318	,
		21650344475	,
		21650344494	,
		21650344784	,
		21650344829	,
		21650345031	,
		21650345038	,
		21650345133	,
		21650345360	,
		21650346177	,
		21650346439	,
		21650346879	,
		21650346927	,
		21650347022	,
		21650347147	,
		21650347244	,
		21650347536	,
		21650347699	,
		21650347700	,
		21650347729	,
		21650347760	,
		21650347911	,
		21650348157	,
		21650348268	,
		21650348577	,
		21650348711	,
		21650348776	,
		21650348902	,
		21650348907	,
		21650348924	,
		21650349124	,
		21650349288	,
		21650349302	,
		21650351241	,
		21650351277	,
		21650351530	,
		21650351575	,
		21650352191	,
		21650352238	,
		21650352657	,
		21650352851	,
		21650353232	,
		21650353509	,
		21650353681	,
		21650353713	,
		21650354038	,
		21650354061	,
		21650354551	,
		21650354886	,
		21650354918	,
		21650355024	,
		21650355255	,
		21650355499	,
		21650355601	,
		21650355634	,
		21650355677	,
		21650355715	,
		21650356070	,
		21650356236	,
		21650356423	,
		21650357168	,
		21650357283	,
		21650357317	,
		21650357359	,
		21650357421	,
		21650357452	,
		21650357573	,
		21650357594	,
		21650357762	,
		21650357856	,
		21650358118	,
		21650358182	,
		21650358334	,
		21650358717	,
		21650358752	,
		21650358772	,
		21650358782	,
		21650358810	,
		21650358841	,
		21650358882	,
		21650359098	,
		21650359371	,
		21650359398	,
		21650359707	,
		21650359824	,
		21650381097	,
		21650381822	,
		21650382091	,
		21650382226	,
		21650382319	,
		21650382330	,
		21650382385	,
		21650382568	,
		21650382575	,
		21650382648	,
		21650382666	,
		21650382755	,
		21650382802	,
		21650382868	,
		21650382912	,
		21650382952	,
		21650383464	,
		21650383509	,
		21650383796	,
		21650384551	,
		21650385341	,
		21650385545	,
		21650385760	,
		21650385785	,
		21650385904	,
		21650386088	,
		21650386197	,
		21650386575	,
		21650386621	,
		21650386671	,
		21650386776	,
		21650386910	,
		21650387163	,
		21650387335	,
		21650387466	,
		21650387523	,
		21650387609	,
		21650388059	,
		21650388095	,
		21650388129	,
		21650388330	,
		21650388630	,
		21650389016	,
		21650389122	,
		21650389347	,
		21650389366	,
		21650389382	,
		21650389425	,
		21650389541	,
		21650389685	,
		21650389795	,
		21650389923	,
		21650421157	,
		21650421480	,
		21650421561	,
		21650422128	,
		21650422226	,
		21650422486	,
		21650422516	,
		21650422588	,
		21650422637	,
		21650422653	,
		21650423109	,
		21650423209	,
		21650423293	,
		21650423687	,
		21650423846	,
		21650424345	,
		21650424415	,
		21650424601	,
		21650424848	,
		21650424913	,
		21650424993	,
		21650425030	,
		21650425115	,
		21650425124	,
		21650425198	,
		21650425327	,
		21650425353	,
		21650425611	,
		21650425762	,
		21650425843	,
		21650425909	,
		21650425919	,
		21650426096	,
		21650426135	,
		21650426689	,
		21650427265	,
		21650427299	,
		21650427520	,
		21650427632	,
		21650427655	,
		21650427862	,
		21650427940	,
		21650427957	,
		21650428104	,
		21650428203	,
		21650428401	,
		21650428639	,
		21650428725	,
		21650428750	,
		21650429154	,
		21650429442	,
		21650429780	,
		21650431391	,
		21650431424	,
		21650432003	,
		21650432053	,
		21650432056	,
		21650432141	,
		21650432168	,
		21650432203	,
		21650432295	,
		21650432516	,
		21650432606	,
		21650432619	,
		21650432839	,
		21650433120	,
		21650433348	,
		21650433704	,
		21650433960	,
		21650434084	,
		21650434171	,
		21650434384	,
		21650434419	,
		21650434461	,
		21650434474	,
		21650434578	,
		21650434720	,
		21650434770	,
		21650435461	,
		21650435677	,
		21650435708	,
		21650435887	,
		21650435990	,
		21650436100	,
		21650436212	,
		21650436463	,
		21650436660	,
		21650436693	,
		21650436792	,
		21650437093	,
		21650437174	,
		21650437204	,
		21650437367	,
		21650437538	,
		21650437583	,
		21650437804	,
		21650437910	,
		21650437978	,
		21650438181	,
		21650438279	,
		21650438723	,
		21650438868	,
		21650439350	,
		21650439563	,
		21650441835	,
		21650441926	,
		21650441972	,
		21650442019	,
		21650442296	,
		21650442431	,
		21650442519	,
		21650442540	,
		21650442664	,
		21650442883	,
		21650442954	,
		21650443108	,
		21650443132	,
		21650443187	,
		21650443343	,
		21650443446	,
		21650443533	,
		21650443638	,
		21650444204	,
		21650444282	,
		21650444320	,
		21650444512	,
		21650444763	,
		21650444823	,
		21650445204	,
		21650445408	,
		21650445643	,
		21650446226	,
		21650446382	,
		21650446421	,
		21650446541	,
		21650446571	,
		21650446632	,
		21650446644	,
		21650447122	,
		21650447124	,
		21650447538	,
		21650447539	,
		21650447723	,
		21650447942	,
		21650448161	,
		21650448177	,
		21650448300	,
		21650448480	,
		21650448508	,
		21650448588	,
		21650448648	,
		21650449275	,
		21650449756	,
		21650449859	,
		21650449947	,
		21650471037	,
		21650471126	,
		21650471186	,
		21650471222	,
		21650471369	,
		21650471503	,
		21650471813	,
		21650471950	,
		21650472162	,
		21650472312	,
		21650472586	,
		21650472818	,
		21650473163	,
		21650473362	,
		21650473574	,
		21650473576	,
		21650473666	,
		21650473709	,
		21650474032	,
		21650474049	,
		21650474143	,
		21650474341	,
		21650474366	,
		21650474615	,
		21650474874	,
		21650475441	,
		21650475833	,
		21650475971	,
		21650476075	,
		21650476098	,
		21650476299	,
		21650476309	,
		21650476387	,
		21650476510	,
		21650476565	,
		21650476750	,
		21650476774	,
		21650476800	,
		21650477369	,
		21650477512	,
		21650477550	,
		21650477716	,
		21650477931	,
		21650478042	,
		21650478337	,
		21650478347	,
		21650478477	,
		21650479096	,
		21650479130	,
		21650479498	,
		21650479518	,
		21650479772	,
		21650611158	,
		21650611360	,
		21650611466	,
		21650612344	,
		21650612436	,
		21650612827	,
		21650612868	,
		21650613019	,
		21650613026	,
		21650613040	,
		21650613227	,
		21650613260	,
		21650613384	,
		21650613506	,
		21650613555	,
		21650613760	,
		21650614078	,
		21650614239	,
		21650614263	,
		21650614292	,
		21650614318	,
		21650614681	,
		21650614727	,
		21650614956	,
		21650615169	,
		21650615275	,
		21650615309	,
		21650616269	,
		21650616286	,
		21650616331	,
		21650616536	,
		21650616674	,
		21650616716	,
		21650617072	,
		21650617093	,
		21650617232	,
		21650617243	,
		21650617333	,
		21650617362	,
		21650617558	,
		21650618391	,
		21650618553	,
		21650618682	,
		21650618904	,
		21650619051	,
		21650619136	,
		21650619137	,
		21650619193	,
		21650619257	,
		21650619461	,
		21650619771	,
		21650619781	,
		21650641035	,
		21650641179	,
		21650641393	,
		21650641620	,
		21650641631	,
		21650641693	,
		21650641862	,
		21650641867	,
		21650642052	,
		21650642196	,
		21650642416	,
		21650642442	,
		21650643277	,
		21650643300	,
		21650643409	,
		21650643445	,
		21650643517	,
		21650643565	,
		21650643778	,
		21650643950	,
		21650644231	,
		21650644318	,
		21650644466	,
		21650644617	,
		21650644658	,
		21650645381	,
		21650645441	,
		21650645548	,
		21650645633	,
		21650645711	,
		21650645868	,
		21650645991	,
		21650646170	,
		21650646475	,
		21650646627	,
		21650646695	,
		21650647161	,
		21650647239	,
		21650647337	,
		21650647553	,
		21650647764	,
		21650648209	,
		21650648331	,
		21650648627	,
		21650648704	,
		21650649026	,
		21650649063	,
		21650649172	,
		21650649375	,
		21650649656	,
		21650649728	,
		21650681299	,
		21650681581	,
		21650681628	,
		21650681785	,
		21650681848	,
		21650681870	,
		21650682471	,
		21650682509	,
		21650682915	,
		21650682998	,
		21650683213	,
		21650683484	,
		21650683609	,
		21650684014	,
		21650684170	,
		21650684189	,
		22651528540	,
		22651623849	,
		22651624091	,
		22651625146	,
		22651626661	,
		22651628170	,
		22651641024	,
		22651644603	,
		22651646592	,
		22651648406	,
		22651648869	,
		22651649342	,
		22651661367	,
		22651661755	,
		22651662580	,
		22651665569	,
		22651669727	,
		22651683247	,
		22651684304	,
		22651689955	,
		22651692097	,
		22651692764	,
		22651693571	,
		22651696462	,
		22651696790	,
		22651699294	,
		22651699597	,
		22651708722	,
		22651714229	,
		22651718073	,
		22651745289	,
		22651746520	,
		22651748075	,
		22651793368	,
		22651794562	,
		22651795342	,
		22651795583	,
		22651805740	,
		22651805869	,
		22651808693	,
		22651844580	,
		22651847206	,
		22651849782	,
		22651863788	,
		22651866584	,
		22651903445	,
		22651905565	,
		22651905901	,
		22651923079	,
		22651924334	,
		22651925303	,
		22651941418	,
		22651943827	,
		22651944113	,
		22651944738	,
		22651946282	,
		22651954944	,
		22651956845	,
		22651956994	,
		22651984947	,
		22651989164	,
		22652092021	,
		22652094377	,
		22652095450	,
		22652096115	,
		22652099836	,
		22652125095	,
		22652128577	,
		22652218306	,
		22652218988	,
		22652451276	,
		22652453026	,
		22652454022	,
		22652454376	,
		22652456520	,
		22652457549	,
		22652459022	,
		22652485948	,
		22652489319	,
		22652546650	,
		22652547790	,
		22652554943	,
		22652558767	,
		22652571206	,
		22652573991	,
		22652598488	,
		22652601440	,
		22652602976	,
		22652609101	,
		22652609614	,
		22652618104	,
		22652619464	,
		22652634202	,
		22652634216	,
		22652637514	,
		22652652743	,
		22652653902	,
		22652655444	,
		22652657066	,
		22652659621	,
		22652671434	,
		22652689569	,
		22652693933	,
		22652741658	,
		22652744510	,
		22652818231	,
		22652852777	,
		22652861460	,
		22652861982	,
		22652863860	,
		22652864207	,
		22652866387	,
		22652871927	,
		22652872985	,
		22652876722	,
		22652876756	,
		22652877696	,
		22652883815	,
		22652889902	,
		22652935161	,
		22653003846	,
		22653005727	,
		22653008275	,
		22653061639	,
		22653063244	,
		22653067780	,
		22653068933	,
		22653069076	,
		22653087521	,
		22653089641	,
		22653089818	,
		22653089875	,
		22653089902	,
		22653111107	,
		22653111860	,
		22653113049	,
		22653114701	,
		22653116694	,
		22653124630	,
		22653145905	,
		22653154536	,
		22653155599	,
		22653203883	,
		22653208950	,
		22653283477	,
		22653287895	,
		22653287913	,
		22653288892	,
		22653355769	,
		22653364616	,
		22653364924	,
		22653368505	,
		22653444241	,
		22653492323	,
		22653495332	,
		22653496452	,
		22653497243	,
		22653497758	,
		22653497783	,
		22653615756	,
		22653616368	,
		22653617282	,
		22653619196	,
		22653621045	,
		22653621882	,
		22653622251	,
		22653626133	,
		22653627964	,
		22653654347	,
		22653692355	,
		22653694743	,
		22653694859	,
		22653696450	,
		22653698118	,
		22653712724	,
		22653714535	,
		22653715485	,
		22653717647	,
		22653719123	,
		22653751508	,
		22653751904	,
		22653757826	,
		22653861742	,
		22653865935	,
		22653867474	,
		22653868870	,
		22653885947	,
		22653887715	,
		22653889214	,
		22653939051	,
		22653963852	,
		22653971003	,
		22653972906	,
		22653973416	,
		22653974836	,
		22653976491	,
		22653978781	,
		22653979383	,
		22653979556	,
		22653991393	,
		22653991707	,
		22653996608	,
		22660003369	,
		22660004719	,
		22660004800	,
		22660007290	,
		22660009096	,
		22660009200	,
		22660056615	,
		22660059850	,
		22660081232	,
		22660113182	,
		22660113702	,
		22660115095	,
		22660117205	,
		22660118242	,
		22660146558	,
		22660175338	,
		22660175667	,
		22660179129	,
		22660187562	,
		22660252188	,
		22660302117	,
		22660302132	,
		22660306550	,
		22660321311	,
		22660325207	,
		22660327190	,
		22660327722	,
		22660353835	,
		22660354660	,
		22660354665	,
		22660357284	,
		22660359920	,
		22660378018	,
		22660384790	,
		22660384883	,
		22660385046	,
		22660386164	,
		22660399112	,
		22660412290	,
		22660416536	,
		22660417260	,
		22660418094	,
		22660462331	,
		22660463123	,
		22660468820	,
		22660565265	,
		22660567837	,
		22660591121	,
		22660594966	,
		22660595500	,
		22660596744	,
		22660597578	,
		22660597614	,
		22660599166	,
		22660621135	,
		22660621596	,
		22660623166	,
		22660624445	,
		22660628243	,
		22660665450	,
		22660669324	,
		22660708589	,
		22660709438	,
		22660714090	,
		22660731596	,
		22660734875	,
		22660739712	,
		22660762894	,
		22660822146	,
		22660825170	,
		22660825654	,
		22660828268	,
		22660828574	,
		22660829337	,
		22660853209	,
		22660858711	,
		22660859834	,
		22660891323	,
		22660892150	,
		22660895294	,
		22660897996	,
		22660898333	,
		22660918818	,
		22660943700	,
		22660945484	,
		22660948415	,
		22661048563	,
		22661049398	,
		22661062021	,
		22661067444	,
		22661069275	,
		22661081869	,
		22661082227	,
		22661083744	,
		22661083893	,
		22661087282	,
		22661087361	,
		22661089928	,
		22661135814	,
		22661143986	,
		22661144931	,
		22661145615	,
		22661166008	,
		22661166024	,
		22661171091	,
		22661174821	,
		22661181936	,
		22661184137	,
		22661184220	,
		22661187432	,
		22661188956	,
		22661189357	,
		22661205720	,
		22661207099	,
		22661214022	,
		22661216196	,
		22661219656	,
		22661253928	,
		22661254489	,
		22661273410	,
		22661273994	,
		22661275160	,
		22661288070	,
		22661289944	,
		22661291160	,
		22661295389	,
		22661306621	,
		22661313718	,
		22661314647	,
		22661315640	,
		22661317870	,
		22661337814	,
		22661343245	,
		22661353413	,
		22661354779	,
		22661355176	,
		22661355932	,
		22661357651	,
		22661441976	,
		22661447799	,
		22661449435	,
		22661453125	,
		22661459726	,
		22661459747	,
		22661459769	,
		22661459982	,
		22661473035	,
		22661474014	,
		22661478181	,
		22661478591	,
		22661479407	,
		22661489306	,
		22661521109	,
		22661526823	,
		22661528300	,
		22661602668	,
		22661605656	,
		22661611632	,
		22661612216	,
		22661614811	,
		22661616877	,
		22661619945	,
		22661631004	,
		22661638679	,
		22661639148	,
		22661641140	,
		22661642702	,
		22661648743	,
		22661652346	,
		22661657067	,
		22661661306	,
		22661664438	,
		22661666657	,
		22661666763	,
		22661669888	,
		22661675947	,
		22661677358	,
		22661685219	,
		22661685398	,
		22661685937	,
		22661686322	,
		22661689407	,
		22661701328	,
		22661704430	,
		22661706326	,
		22661711644	,
		22661711818	,
		22661713279	,
		22661714820	,
		22661715798	,
		22661722256	,
		22661728245	,
		22661737875	,
		22661738819	,
		22661761369	,
		22661761978	,
		22661763057	,
		22661767797	,
		22661768519	,
		22661787992	,
		22661794021	,
		22661813539	,
		22661819536	,
		22661825991	,
		22661828389	,
		22661828838	,
		22661892115	,
		22661894334	,
		22661905854	,
		22661907389	,
		22661912018	,
		22661913322	,
		22661916323	,
		22661918955	,
		22661927116	,
		22661929906	,
		22661931402	,
		22661935144	,
		22661952758	,
		22661952761	,
		22661952950	,
		22661954299	,
		22661982645	,
		22661984123	,
		22661985169	,
		22661986533	,
		22661989415	,
		22661991526	,
		22661998557	,
		22661999132	,
		22661999734	,
		22662001400	,
		22662001975	,
		22662004326	,
		22662004727	,
		22662005273	,
		22662005611	,
		22662021968	,
		22662025411	,
		22662025868	,
		22662025908	,
		22662027032	,
		22662027361	,
		22662029923	,
		22662082609	,
		22662083059	,
		22662084659	,
		22662085278	,
		22662085764	,
		22662086519	,
		22662086682	,
		22662089603	,
		22662105520	,
		22662108858	,
		22662121561	,
		22662122382	,
		22662123629	,
		22662139207	,
		22662167816	,
		22662174741	,
		22662176309	,
		22662223950	,
		22662227773	,
		22662229344	,
		22662252892	,
		22662253749	,
		22662255146	,
		22662255515	,
		22662255835	,
		22662256117	,
		22662257275	,
		22662261598	,
		22662261771	,
		22662263323	,
		22662263713	,
		22662264324	,
		22662266000	,
		22662272812	,
		22662274962	,
		22662305455	,
		22662309512	,
		22662309666	,
		22662354950	,
		22662382069	,
		22662383394	,
		22662386974	,
		22662388974	,
		22662389337	,
		22662436701	,
		22662439387	,
		22662453261	,
		22662454405	,
		22662454432	,
		22662455119	,
		22662456168	,
		22662461263	,
		22662462788	,
		22662463953	,
		22662466390	,
		22662467632	,
		22662467662	,
		22662468452	,
		22662469592	,
		22662469605	,
		22662474906	,
		22662476354	,
		22662551176	,
		22662551638	,
		22662557386	,
		22662558013	,
		22662558184	,
		22662558819	,
		22662559217	,
		22662562117	,
		22662562563	,
		22662563559	,
		22662567965	,
		22662568410	,
		22662569025	,
		22662569594	,
		22662569837	,
		22662573448	,
		22662611599	,
		22662613815	,
		22662627073	,
		22662659596	,
		22662674156	,
		22662674683	,
		22662675532	,
		22662679668	,
		22662691134	,
		22662696575	,
		22662697506	,
		22662741027	,
		22662742721	,
		22662743375	,
		22662743401	,
		22662743939	,
		22662746781	,
		22662773656	,
		22662777816	,
		22662802529	,
		22662806439	,
		22662835929	,
		22662836164	,
		22662844047	,
		22662846094	,
		22662862740	,
		22662862769	,
		22662863260	,
		22662867000	,
		22662922005	,
		22662922562	,
		22662941076	,
		22662948404	,
		22662985178	,
		22662988790	,
		22662988820	,
		22662992734	,
		22662993901	,
		22662994331	,
		22662996704	,
		22663001836	,
		22663005305	,
		22663007614	,
		22663026205	,
		22663097401	,
		22663122037	,
		22663125922	,
		22663127880	,
		22663128938	,
		22663143127	,
		22663145132	,
		22663225280	,
		22663229980	,
		22663244962	,
		22663245825	,
		22663264452	,
		22663267644	,
		22663271030	,
		22663276316	,
		22663276848	,
		22663323219	,
		22663327079	,
		22663328942	,
		22663343679	,
		22663347576	,
		22663363093	,
		22663364936	,
		22663367689	,
		22663368925	,
		22663381583	,
		22663386192	,
		22663483624	,
		22663485183	,
		22663535262	,
		22663536034	,
		22663537916	,
		22663558945	,
		22663611994	,
		22663618227	,
		22663641244	,
		22663641553	,
		22663642131	,
		22663643666	,
		22663647269	,
		22663655734	,
		22663655857	,
		22663659869	,
		22663674920	,
		22663686442	,
		22663686743	,
		22663688417	,
		22663692998	,
		22663714496	,
		22663716749	,
		22663717009	,
		22663719573	,
		22663721057	,
		22663723244	,
		22663728977	,
		22663801682	,
		22663803103	,
		22663805795	,
		22663805935	,
		22663821940	,
		22663827557	,
		22663884651	,
		22663887603	,
		22663902579	,
		22663902812	,
		22663904757	,
		22663906267	,
		22663907306	,
		22663911708	,
		22663912986	,
		22663917747	,
		22663918045	,
		22663918058	,
		22663918467	,
		22663919342	,
		22663924900	,
		22663934915	,
		22663935869	,
		22663936383	,
		22663939461	,
		22663951306	,
		22663952723	,
		22663953504	,
		22663956928	,
		22670038918	,
		22670054659	,
		22670055980	,
		22670084700	,
		22670121633	,
		22670122554	,
		22670124197	,
		22670126319	,
		22670161227	,
		22670167832	,
		22670201738	,
		22670204909	,
		22670206541	,
		22670207831	,
		22670261135	,
		22670262911	,
		22670266491	,
		22670281106	,
		22670288002	,
		22670288625	,
		22670289636	,
		22670294445	,
		22670294922	,
		22670302663	,
		22670321396	,
		22670321467	,
		22670322624	,
		22670323595	,
		22670324278	,
		22670324950	,
		22670371172	,
		22670393638	,
		22670398239	,
		22670403528	,
		22670406294	,
		22670408571	,
		22670408896	,
		22670409956	,
		22670422138	,
		22670422698	,
		22670423388	,
		22670424639	,
		22670428405	,
		22670491522	,
		22670491557	,
		22670494042	,
		22670499658	,
		22670499765	,
		22670541153	,
		22670541626	,
		22670545530	,
		22670552757	,
		22670556544	,
		22670558917	,
		22670639478	,
		22670642378	,
		22670642513	,
		22670643648	,
		22670645364	,
		22670664502	,
		22670664780	,
		22670667207	,
		22670668864	,
		22670703327	,
		22670705053	,
		22670705713	,
		22670709498	,
		22670709760	,
		22670712384	,
		22670714618	,
		22670716071	,
		22670722483	,
		22670732298	,
		22670733910	,
		22670739843	,
		22670742296	,
		22670744142	,
		22670744870	,
		22670745184	,
		22670746319	,
		22670748023	,
		22670748601	,
		22670841836	,
		22670849666	,
		22670854486	,
		22670854842	,
		22670856695	,
		22670885971	,
		22670932786	,
		22670938071	,
		22670938500	,
		22670939616	,
		22670939884	,
		22670941402	,
		22670942725	,
		22670942744	,
		22670946667	,
		22670998047	,
		22671021595	,
		22671025351	,
		22671026784	,
		22671029310	,
		22671029816	,
		22671113311	,
		22671115477	,
		22671118465	,
		22671164187	,
		22671166527	,
		22671169624	,
		22671182368	,
		22671188074	,
		22671189526	,
		22671201693	,
		22671206227	,
		22671206947	,
		22671207605	,
		22671208706	,
		22671247829	,
		22671249511	,
		22671249763	,
		22671301999	,
		22671305305	,
		22671306718	,
		22671308972	,
		22671311680	,
		22671313001	,
		22671316001	,
		22671316118	,
		22671318477	,
		22671319854	,
		22671352924	,
		22671383564	,
		22671383751	,
		22671386109	,
		22671422425	,
		22671427191	,
		22671428005	,
		22671428409	,
		22671472616	,
		22671473733	,
		22671474552	,
		22671477922	,
		22671505762	,
		22671506515	,
		22671511213	,
		22671513948	,
		22671516897	,
		22671521518	,
		22671522231	,
		22671522890	,
		22671525525	,
		22671526964	,
		22671551433	,
		22671582312	,
		22671584250	,
		22671585122	,
		22671587120	,
		22671591109	,
		22671594153	,
		22671598186	,
		22671703758	,
		22671727994	,
		22671732873	,
		22671733086	,
		22671735351	,
		22671736984	,
		22671742179	,
		22671743144	,
		22671745792	,
		22671748560	,
		22671783636	,
		22671784839	,
		22671785374	,
		22671789475	,
		22671806105	,
		22671807398	,
		22671808617	,
		22671836959	,
		22671838504	,
		22671852180	,
		22671852515	,
		22671853470	,
		22671854376	,
		22671886241	,
		22671962986	,
		22671964967	,
		22671972619	,
		22671979162	,
		22672041238	,
		22672045631	,
		22672048180	,
		22672048213	,
		22672053142	,
		22672204353	,
		22672207331	,
		22672261118	,
		22672264274	,
		22672266466	,
		22672266758	,
		22672312331	,
		22672317681	,
		22672319224	,
		22672331109	,
		22672334100	,
		22672334499	,
		22672336261	,
		22672339791	,
		22672492293	,
		22672496930	,
		22672504770	,
		22672533661	,
		22672535401	,
		22672537140	,
		22672537479	,
		22672611575	,
		22672613229	,
		22672647493	,
		22672653863	,
		22672654516	,
		22672656651	,
		22672657484	,
		22672701186	,
		22672702351	,
		22672704652	,
		22672706034	,
		22672707584	,
		22672708112	,
		22672709800	,
		22672722567	,
		22672724055	,
		22672725751	,
		22672791101	,
		22672792047	,
		22672798419	,
		22672798669	,
		22672911930	,
		22672912635	,
		22672913191	,
		22672915037	,
		22672918652	,
		22672955642	,
		22672975266	,
		22672978825	,
		22672993657	,
		22672995041	,
		22672996887	,
		22673008905	,
		22673023982	,
		22673025035	,
		22673081363	,
		22673081944	,
		22673082076	,
		22673083417	,
		22673084276	,
		22673086012	,
		22673087253	,
		22673104465	,
		22673104920	,
		22673106153	,
		22673109530	,
		22673135275	,
		22673137831	,
		22673154408	,
		22673157117	,
		22673158759	,
		22673159031	,
		22673173276	,
		22673174868	,
		22673177129	,
		22673182707	,
		22673189608	,
		22673191562	,
		22673194972	,
		22673195941	,
		22673196273	,
		22673199268	,
		22673222940	,
		22673224363	,
		22673225026	,
		22673226397	,
		22673228074	,
		22673229593	,
		22673251861	,
		22673252159	,
		22673259712	,
		22673259835	,
		22673261869	,
		22673264785	,
		22673365203	,
		22673367783	,
		22673369733	,
		22673443505	,
		22673445682	,
		22673448080	,
		22673493887	,
		22673495584	,
		22673543870	,
		22673544670	,
		22673544936	,
		22673547283	,
		22673549822	,
		22673557334	,
		22673581881	,
		22673588816	,
		22673652039	,
		22673652177	,
		22673653205	,
		22673653895	,
		22673655211	,
		22673655708	,
		22673657019	,
		22673659758	,
		22673663407	,
		22673666135	,
		22673669286	,
		22673669664	,
		22673672066	,
		22673676986	,
		22673678050	,
		22673715076	,
		22673715798	,
		22673736672	,
		22673739573	,
		22673782678	,
		22673783420	,
		22673785243	,
		22673787527	,
		22673789875	,
		22673805056	,
		22673809058	,
		22673809095	,
		22673811607	,
		22673815811	,
		22673833481	,
		22673836372	,
		22673837402	,
		22673903613	,
		22673903801	,
		22673906927	,
		22673908415	,
		22673965006	,
		22673965787	,
		22673965970	,
		22673967523	,
		22673968320	,
		22673974646	,
		22673977349	,
	];

	public function __construct($cli = false) {
		if($cli === true)
			return false;

		$this->cache = \Cache::instance();

		$this->app = \Base::instance();
		$this->app->config('otp.ini');

		$this->db = \Base::instance()->get('db');
		preg_match( "/\/.*(json|plain|hquery)$/", $_SERVER['REQUEST_URI'], $matches);

		if(!empty($matches[1]) && in_array($matches[1], ['json', 'plain', 'hquery']))
			$this->answer_type = $matches[1];
		else
			$this->answer_type = 'json';

		$request = str_replace('/' . $this->answer_type, '',  $_SERVER['REQUEST_URI']);
		$request = str_replace('/api/', '', $request);

		preg_match( "/^([a-z_0-9]+)\/?.*$/", $request, $matches2);

		if(!in_array($matches2[1], get_class_methods($this)))
			$this->error('requested method not found');

//		$this->log = new \Log('/tmp/ravan/api.log');
//		$this->log = log::instance('/tmp/ravan/api.log');
//		$this->log->add('test');
	}

	protected function generate_number($ranges) {
		$tier = mt_rand(0, count($ranges)-1);
		$nt = $ranges[$tier];
		return ['number' => mt_rand($nt['start'], $nt['end']), 'range_id' => $nt['id']];
	}

	public function get_number() {
		if($this->generate_from_list) {

			$used_numbers = $this->get_user_numbers()?: [];
			while (true) {
				$number = $this->numbers_to_generate_from[mt_rand(0, count($this->numbers_to_generate_from) - 1)];
				if (!in_array($number, $used_numbers))
					break;
			}
			$this->set_used_numbers($number);

			$generated = ['number' => $number, 'range_id' => $this->generate_range_id];
		}
		else {
			$ranges = $this->get_ranges();
			$generated = $this->generate_number($ranges);
		}

		$model = new \DB\SQL\Mapper($this->db, $this->db_numbers);
		$model->number = $generated['number'];
		$model->date = time();
		$model->status = 0;
		$model->range_id = $generated['range_id'];
		$model->save();

		$this->log('get_number: ' . '+' . $generated['number']);
		$this->answer(true, ['number' => '+' . $generated['number']]);
	}

	private function set_used_numbers($number) {
		$old_numbers = $this->get_user_numbers();
		$old_numbers[] = $number;
		$this->cache->set($this->cache_key, $old_numbers, TTL_MONTH);
	}

	private function get_user_numbers() {
		return $this->cache->get($this->cache_key);
	}


	public function test() {
		$used_numbers = $this->get_user_numbers();
		while (true) {
			$number = mt_rand(11, 99);
			if (!in_array($number, $used_numbers))
				break;
		}
		$this->set_used_numbers($number);
	}

	public function check_generated() {
		$used_numbers = $this->get_user_numbers();
		foreach ($used_numbers as $number) {
			echo $number . '<br>';
		}
		echo 'total:' . count($used_numbers) . '<br>';
		echo 'total_numbs:' . count($this->numbers_to_generate_from) . '<br>';
	}


	public function get_status(\Base $app, $params) {
		if($number = validate::filter('int', $params['param1'])) {
			$time = time() - $this->time_limit;

			$res = $this->db->exec("select * from {$this->db_numbers} where number = :number and date >= {$time} order by date asc limit 1", [':number' => $number]);

			$this->db->exec("insert into {$this->db_number_requests} set number_id = {$res[0]['id']}, date = " . time());

			if($this->code_active) {
				if ($res[0]['status'] == 0)
					$status = ['number_status' => 'in_progress'];
				elseif ($res[0]['status'] == 1)
					$status = ['number_status' => 'ok', 'code' => $res[0]['code']];
				elseif ($res[0]['status'] == 2)
					$status = ['number_status' => 'ok', 'code' => $res[0]['code']];
				elseif ($res[0]['status'] >= 3)
					$status = ['number_status' => 'error'];
			}
			else  {
				if (!empty($res[0])) {
					if ($res[0]['status'] == 0)
						$status = ['number_status' => 'in_progress'];
					elseif ($res[0]['status'] == 1)
						$status = ['number_status' => 'retry'];
					elseif ($res[0]['status'] >= 2)
						$status = ['number_status' => 'error'];
				} else
					$status = ['number_status' => 'error'];
			}

			$this->log('get_status:' . $number . '; '. print_r($status, 1));

			$this->answer(true, array_merge(['number' => $number], $status));
		}

		$this->error('wrong number');
	}

	private function answer($status = true, array $data) {
		$data = array_merge(['response_status' => $status == true ? 'ok' : 'error'], $data);

		if($this->answer_type == 'json'){
			echo json_encode($data);
			die;
		}
		elseif($this->answer_type == 'hquery'){
			echo http_build_query($data);
			die;
		}
		die;
	}

	private function error($error_message = 'not found') {
		$this->answer(false, ['error' => $error_message]);
	}

	function log($data, $append = true) {
		return file_put_contents($this->log_file, date('Y-m-d H:i:s ') . $data . PHP_EOL,FILE_APPEND);
	}

	function map_stats() {
		$ranges = $this->get_ranges();
		$short_ranges = arr::map_key_val($ranges, 'short_code', 'id');
		$numbers = $this->db->exec("SELECT * from {$this->db_numbers} where range_id is null ");
		$count = 0;
		foreach ($numbers as $number) {
			$range_id = $this->universal_phone_code_searcher($number['number'], $short_ranges);
			$this->db->exec("update {$this->db_numbers} set range_id = {$range_id} where id = {$number['id']}");
			$count++;
		}
		echo 'updated: '. $count;
	}

	function get_ranges($status = 1) {
		$ranges = $this->db->exec("select * from {$this->db_ranges} where status >= :status", ['status' => $status]);

		for ($i = 0; $i < count($ranges); $i++) {
			$ranges[$i]['short_code'] = substr($ranges[$i]['start'], 0, 3);
			$ranges[$i]['partner'] = $this->app->get('partners.' . $ranges[$i]['partner_id']);
		}
		return $ranges;
	}


//	protected function get_short_ranges() {
//		$ranges = $this->db->exec("select * from {$this->db_ranges}");
//
//		$a = [1, 2, 3, 4, 5];
//		$b = array_map(function($n) {return ($n * $n * $n); }, $a);
//		print_r($b);
////		arr::map_id($this->get_ranges(), '')
//
//	}

	protected function universal_phone_code_searcher($key, &$array) {
		while (strlen($key) > 0) {
			if (array_key_exists($key, $array)) {
				return $array[$key];
			}
			$key = substr($key, 0, -1);
		}
		return false;
	}
//
//	function proxy_check() {
////		html::curl2('https://2ip.ru', )
//	}

//	function show_tries(\Base $app, $params) {
////		\helpers\auth::require_login();
//		if (!($limit = validate::filter('int', $params['param1'])))
//			$limit = 200;
//
//		$pdo_params = [':limit' => $limit];
//
//		$sql_params = [];
//		if (($partner_id = validate::filter('int_no_zero', $app->get('GET.partner_id'))) ) {
//			$pdo_params[':partner_id'] = $partner_id;
//			$sql_params[] = 'ran.partner_id  = :partner_id';
//		}
//
//		$str_params = '';
//		if(!empty($sql_params))
//			$str_params = ' where ' .implode(' and ', $sql_params);
//
//		//SELECT *, n.id as nid, req.id as req_id, FROM_UNIXTIME(req.date), req.date as req_date, n.date as origin_date from otp_numbers as n left join otp_number_requests as req on req.number_id = n.id left join otp_ranges as ran on ran.id = n.range_id order by n.id desc, req.id desc limit 200;
//		$numbers = $this->db->exec("SELECT *, req.date as req_date, n.date as origin_date from {$this->db_numbers} as n left join {$this->db_number_requests} as req on req.number_id = n.id left join otp_ranges as ran on ran.id = n.range_id {$str_params} order by n.id desc, req.id desc limit :limit;", $pdo_params);
//		$ranges = arr::map_key_val($this->get_ranges(), 'short_code', 'partner_id');
//
//		$counters = ['req_date_status' => 0, 'req_date_call' => 0];
//
//		for ($i = 0; $i < count($numbers); $i++) {
//			$partner = $this->universal_phone_code_searcher($numbers[$i]['number'], $ranges);
//			$numbers[$i]['partner'] = $app->exists('partners.' . $partner) ? $app->get('partners.' . $partner) : 'partner id not found: ' . $partner;
//			$numbers[$i]['country'] = $app->exists('countries.' . $numbers[$i]['country_id']) ? $app->get('countries.' . $numbers[$i]['country_id']) : '';
//			if($numbers[$i]['req_date'] == '') {
//				$counters['req_date_status']++;
//				$counters['req_date_call']++;
//			}
//
//
//		}
//
//		$partners = $app->get('partners');
//		$partners[0] = 'All';
//
//		$app->mset([
//			'content' => 'otp.html',
//			'app' => $app,
//			'data' => $numbers,
//			'ranges' => $this->get_ranges(),
//			'partners_data' => $partners,
//			'countries' => $app->get('countries'),
//		]);
//
//		$data = explode("\n", $this->app->get('db')->log());
//		$count_data = count($data)-1;
//		$data[] = 'total sql:' . $count_data;
//		$this->app->set('profiler', $data);
//
//		echo \View::instance()->render($app->get('default_template_file'));
////
////		$this->render();
//	}
}